<?xml version="1.0" encoding="UTF-8"?>
<schema name="default-config" version="1.6">
    <uniqueKey>id</uniqueKey>

    <fieldType name="text" class="solr.TextField" positionIncrementGap="100" docValues="false" multiValued="false" indexed="true" stored="true">
        <analyzer type="index">
            <!-- https://solr.apache.org/guide/solr/latest/indexing-guide/tokenizers.html -->
            <tokenizer name="letter" maxTokenLength="127"/>
            <filter name="stop" ignoreCase="true" words="stopwords.txt"/>

            <!-- If true, the original token is preserved: "thÃ©" â†’ "the", "thÃ©" -->
            <!--filter name="asciiFolding" preserveOriginal="false" /-->

            <filter name="lowercase" maxTokenLength="127"/>
        </analyzer>
        <analyzer type="query">
            <tokenizer name="letter"/>
            <!--filter name="stop" ignoreCase="true" words="stopwords.txt"/-->
            <!--filter expand="true" ignoreCase="true" synonyms="synonyms.txt" name="synonymGraph"/-->
            <filter name="lowercase"/>
        </analyzer>
    </fieldType>

    <fieldType name="plong" class="solr.LongPointField" docValues="true"/>
    <fieldType name="oa_string" class="solr.StrField" sortMissingLast="true" docValues="true" multiValued="false" required="false" indexed="true" stored="true"/>
    <fieldType name="oa_nested" class="solr.StrField" sortMissingLast="true" docValues="true" multiValued="false" required="false" indexed="false" stored="false" large="true"/>
    <fieldType name="oa_bool" class="solr.BoolField" sortMissingLast="true" docValues="true" multiValued="false" required="false" indexed="true" stored="true"/>
    <fieldType name="oa_int" class="solr.IntPointField" sortMissingLast="true" docValues="true" multiValued="false" required="false" indexed="true" stored="true"/>
    <fieldType name="oa_float" class="solr.FloatPointField" sortMissingLast="true" docValues="true" multiValued="false" required="false" indexed="true" stored="true"/>
    <fieldType name="oa_date" class="solr.DatePointField" sortMissingLast="true" docValues="true" multiValued="false" required="false" indexed="true" stored="true"/>

    <field name="_version_" type="plong" indexed="false" stored="false"/>

    <field name="id" type="oa_string" required="true"/>
    <field name="doi " type="oa_string"/>
    <field name="id_mag " type="oa_string"/>
    <field name="id_pmcid " type="oa_string"/>
    <field name="id_pmid " type="oa_string"/>

    <field name="title" type="text" />
    <field name="abstract" type="text"/>
    <field name="title_abstract" type="text"/>
    <field name="abstract_source " type="oa_string"/>

    <field name="publication_date" type="oa_date"/>
    <field name="publication_year" type="oa_int"/>
    <field name="created_date" type="oa_date"/>
    <field name="updated_date" type="oa_date"/>

    <field name="is_published" type="oa_bool"/>
    <field name="is_accepted" type="oa_bool"/>
    <field name="is_open_access" type="oa_bool"/>
    <field name="is_retracted" type="oa_bool"/>
    <field name="is_paratext" type="oa_bool"/>
    <field name="is_xpac" type="oa_bool"/>
    <field name="has_content" type="oa_bool"/>
    <field name="has_fulltext" type="oa_bool"/>
    <field name="cited_by_count" type="oa_int"/>

    <field name="cited_by_count" type="oa_int"/>
    <field name="fwci" type="oa_float"/>

    <field name="publisher " type="oa_string"/>
    <field name="publisher_id " type="oa_string"/>
    <field name="source " type="oa_string"/>
    <field name="source_id " type="oa_string"/>

    <field name="language " type="oa_string"/>
    <field name="type " type="oa_string"/>
    <field name="type_crossref " type="oa_string"/>

    <field name="authorships" type="oa_nested"/>
    <field name="locations" type="oa_nested"/>
    <field name="grants" type="oa_nested"/>
    <field name="referenced_works" type="oa_nested"/>

    <field name="indexed_in" type="oa_nested"/>
    <field name="keywords" type="oa_nested"/>
    <field name="open_access" type="oa_nested"/>
    <field name="concepts" type="oa_nested"/>
    <field name="topics" type="oa_nested"/>
    <field name="sustainable_development_goals" type="oa_nested"/>

</schema>